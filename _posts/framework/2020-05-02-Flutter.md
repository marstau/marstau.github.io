---
layout: post
title: Flutter
category: 编程开发
tags: 
keywords: 
description: 
---


### Installation[More](https://jingyan.baidu.com/article/e75aca855a0403552edac6e2.html)[More2](https://docs.flutter.dev/get-started/install/help#android-setup)

```
git clone git@github.com:flutter/flutter.git

export PATH=$PATH:"$HOME/softwares/flutter/bin"

# using mirror
export PUB_HOSTED_URL=https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn

flutter doctor

# android studio -> preferences -> plugins
install Flutter plugin
# create a new project
file -> new project -> new flutter project

flutter pub get

cd android
gradlew clean
gradlew build

flutter run
```

### Installation for Mac OS X[More](https://docs.flutter.dev/get-started/install/macos/mobile-android#configure-android-development)

```
sudo softwareupdate --install-rosetta --agree-to-license
```

### 引用自定义dart插件[More](https://blog.csdn.net/qq_38507328/article/details/106404135)

```

# pubspec.yaml
flutter_openim_sdk:
	path: ../Open-IM-SDK-Flutter
	version: ^2.0.0+6

# *.dart
import 'package:flutter_openim_sdk/flutter_openim_sdk.dart';

```

### 热更方案

Kraken
MTFlutterWeb

## Error

#### 一直卡 `Running Gradle task 'assembleDebug'...`[More](https://blog.csdn.net/qq_43596067/article/details/107710915?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.pc_relevant_default&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.pc_relevant_default&utm_relevant_index=1)


Solution:
即使新建一个空的项目在android studio中使用可能因为网络导致被卡住，`FLUTTER_STORAGE_BASE_URL`开启镜像后在命令行中执行`flutter run`

#### `flutter doctor --android-licenses Error: A JNI error has occurred, please check your installation and try again Exception in thread "main" java.lang.UnsupportedClassVersionError`[More](https://stackoverflow.com/questions/75328050/flutter-doctor-android-licenses-not-working-due-to-java-lang-unsupportedclassv)


1. Downloaded JDK19
2. Followed the steps mentioned at this link
3. Since I'm running Android Studio Electric Eel, opened Terminal and ran this command `cd /Applications/Android\ Studio.app/Contents/jbr`
4. Then ran this command after `ln -s ../jbr jdk`
5. And finally, `ln -s "/Library/Internet Plug-Ins/JavaAppletPlugin.plugin" jdk`
6. Went to Finder -> Applications -> Android Studio. Right-click Android Studio and select 'Show Package Contents'
7. Created new folder 'jre' in folder 'Contents'
8. Copied contents from the 'jbr' folder to the 'jre' folder
9. Ran `flutter doctor` again
10. Ran `flutter doctor --android-licenses`.

I was able to agree to the licenses successfully after.




## Reference
